const category=document.querySelectorAll(".category"),score=document.querySelectorAll(".score"),percent=document.querySelector(".percent"),icon=document.querySelectorAll(".icon"),averageScore=document.querySelector(".average-score"),continueBtn=document.querySelector("button"),scoreArray=[];let average=0,upto=0,roundAverage=0;const timeOutJson=setTimeout(fetchData,1500);function btnClick(){continueBtn.addEventListener("click",()=>{roundAverage=Math.floor(average),averageScore.textContent=roundAverage,counterAnimated(roundAverage,averageScore),percent.textContent=percentileCalculation(scoreArray)})}function fetchData(){fetchingData(),btnClick()}const timeOutAlert=setTimeout(()=>{alert("Please click on continue button to get your percentile score")},4e3);async function fetchingData(){let e=await fetch("data.json"),t=await e.json();for(var r=0;r<category.length;r++)category[r].textContent=t[r].category,score[r].textContent=t[r].score,icon[r].src=t[r].icon,average+=t[r].score/t.length,scoreArray[r]=t[r].score}function counterAnimated(e,t){let r=setInterval(function o(){t.innerHTML=++upto,upto===e&&(clearInterval(r),upto=0)})}function percentileCalculation(e){let t=0,r=0;return e.sort(),e.forEach(e=>{e<roundAverage&&++t}),r=t/10*100}